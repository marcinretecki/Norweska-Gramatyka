var grammar=function(){"use strict";function init(){attachMainEvent(),checkHash(),checkTime(new Date)}function checkTarget(event){var hash,url,currentUrl=window.location.href.split("#")[0],feedbackEl,feedback,aidEl,parent,elWithHref=getParentWithAtt(event.target,"href");if(showDebugMsg(elWithHref),elWithHref&&(hash=elWithHref.href.split("#")[1],url=elWithHref.href.split("#")[0]),hash&&url&&url===currentUrl)return showDebugMsg("hash: "+hash),ga("send","event","Problems","#"+hash,"Hash"),sublists.hasOwnProperty(hash)?(showDebugMsg("sublists ma prop"),toggleSublist(sublists[hash]),event.preventDefault(),void event.stopPropagation()):(problems.indexOf(hash)>=0&&(showDebugMsg("problems list has hash, add class"),main.className=mainClass+" js__hidden js__"+hash),void Velocity(document.getElementById(hash),"scroll",{duration:800,easing:"easeInOutQuart"}));url&&url!==currentUrl&&ga("send","event","Outgoing",url,"Link"),feedbackEl=getParentWithAtt(event.target,"data-feedback"),feedbackEl&&(feedback=feedbackEl.getAttribute("data-feedback"),aidEl=getParentWithId(event.target)),aidEl&&feedback&&(showDebugMsg("aidId: "+aidEl.id+" | feedback: "+feedback),ga("send","event","Feedback","#"+aidEl.id,feedback),showFeedback(event.target))}function toggleSublist(el){activeSubsection&&""!==activeSubsection&&(Velocity(activeSubsection,"slideUp",{duration:400,easing:"easeInOutQuart"}),showDebugMsg("hide active section"),showDebugMsg(el)),activeSubsection===el?(activeSubsection="",showDebugMsg("reset active section")):(Velocity(el,"slideDown",{duration:400,easing:"easeInOutQuart"}),activeSubsection=el,showDebugMsg("show new section"),showDebugMsg(el))}function checkHash(){var currentUrl=window.location.href,currentHash=currentUrl.split("#")[1];currentHash&&currentHash.length>0&&problems.indexOf(currentHash)>=0&&(main.className=mainClass+" js__hidden js__"+currentHash,showDebugMsg("Class: "+mainClass+" js__hidden js__"+currentHash))}function checkTime(t){var heiEl=document.getElementById("js__hei"),heiArr=["Morn, morn","God morgen","God dag","God kveld"],no=3,h=t.getHours();showDebugMsg("h: "+h),h<5?no=3:h<7?no=0:h<10?no=1:h<18&&(no=-1),showDebugMsg("no: "+no),no>=0&&heiEl&&(heiEl.innerHTML=heiArr[no]+"!")}function attachMainEvent(){document.addEventListener("click",function listener(event){checkTarget(event)},!1)}function getParentWithAtt(el,att){var parent;if(el.hasAttribute(att))return el;for(parent=el.parentNode;!parent.hasAttribute(att);)if((parent=parent.parentNode)==document.body)return!1;return parent}function getParentWithId(el){return getParentWithAtt(el,"id")}function showFeedback(el){for(var parent=el.parentNode,thanks=document.createElement("div");"aid-footer__faces"!==parent.className;)parent=parent.parentNode;thanks.className="aid-feedback-thanks",thanks.innerHTML="Takk for tilbakemeldingen!",parent.appendChild(thanks),Velocity(thanks,"slideDown",{duration:300,easing:"easeInOutQuart"})}function showDebugMsg(msg){debug&&window.console.log(msg)}var debug=!1,main=document.getElementById("js__main"),mainClass=main.className,activeSubsection="",sublists={js__tid:document.getElementById("js__tid"),js__verb:document.getElementById("js__verb"),js__adjektiv:document.getElementById("js__adjektiv"),js__substantiv:document.getElementById("js__substantiv"),js__ordning:document.getElementById("js__ordning"),js__pronomen:document.getElementById("js__pronomen")},problems=["eiendomspronomen","personlige-pronomen","sporrepronomen","refleksive-pronomen","verb","imperativ","modale","adjektiv","gradering","perfektum-partisipp","sideordning","underordning","sporsmal","syntaks","substantiv","determinativ","genitiv","presens-perfektum","presens","futurum","preteritum","passiv"];init()}();!function(prototype){prototype.hasAttribute=prototype.hasAttribute||function(name){return!(!this.attributes[name]||!this.attributes[name].specified)}}(Element.prototype);