var grammar=function(){"use strict";function init(){attachMainEvent(),checkHash(),checkTime(new Date)}function checkTarget(event){var hash,url,currentUrl=window.location.href.split("#")[0],dataFace,aidId,parent;if(event.target.href&&(hash=event.target.href.split("#")[1],url=event.target.href.split("#")[0]),event.target.parentNode.href&&(hash=event.target.parentNode.href.split("#")[1],url=event.target.parentNode.href.split("#")[0]),hash&&url===currentUrl)return window.console.log("hash: "+hash),sublists.hasOwnProperty(hash)?(console.log("sublists ma prop"),toggleSublist(sublists[hash]),console.log(activeSubsection),ga("send","event","Problems","#"+hash,"Hash"),event.preventDefault(),void event.stopPropagation()):(problems.indexOf(hash)>=0&&(console.log("problems list has hash, add class"),main.className=mainClass+" js__hidden js__"+hash),void Velocity(document.getElementById(hash),"scroll",{duration:800,easing:"easeInOutQuart"}));dataFace=event.target.getAttribute("data-face"),dataFace||(dataFace=event.target.parentNode.getAttribute("data-face")),dataFace&&(aidId=getParentWithId(event.target)),aidId&&dataFace&&(console.log("aidId: "+aidId+" | dataFace: "+dataFace),ga("send","event","Feedback",aidId,dataFace),showFeedback(event.target))}function toggleSublist(el){activeSubsection&&""!==activeSubsection&&(Velocity(activeSubsection,"slideUp",{duration:400,easing:"easeInOutQuart"}),console.log("hide active section"),console.log(el)),activeSubsection===el?(activeSubsection="",console.log("reset active section")):(Velocity(el,"slideDown",{duration:400,easing:"easeInOutQuart"}),activeSubsection=el,console.log("show new section"),console.log(el))}function checkHash(){var currentUrl=window.location.href,currentHash=currentUrl.split("#")[1];currentHash&&currentHash.length>0&&problems.indexOf(currentHash)>=0&&(main.className=mainClass+" js__hidden js__"+currentHash)}function checkTime(t){var heiEl=document.getElementById("js__hei"),heiArr=["Morn, morn","God morgen","God dag","God kveld"],no=3,h=t.getHours();console.log(h),h<5?no=3:h<7?no=0:h<10?no=1:h<18&&(no=-1),console.log(no),no>=0&&heiEl&&(heiEl.innerHTML=heiArr[no]+"!")}function attachMainEvent(){document.addEventListener("click",function listener(event){checkTarget(event)},!1)}function sendGaShare(event,media){var anchor=event.target.parentNode.parentNode.parentNode.parentNode.firstElementChild.firstElementChild.innerHTML;ga("send","event","Share",anchor,media)}function sendGaMainShare(media){ga("send","event","Share","Main",media)}function htmlEntities(str){return String(str).replace(/<i>/g,"").replace(/<\/i>/g,"").replace(/"/g,"")}function getParentWithId(el){for(var parent=el.parentNode;!parent.id;)parent=parent.parentNode;return parent.id}function showFeedback(el){for(var parent=el.parentNode,thanks=document.createElement("div");"aid-footer__faces"!==parent.className;)parent=parent.parentNode;thanks.className="aid-feedback-thanks",thanks.innerHTML="Takk for tilbakemeldingen!",parent.appendChild(thanks),Velocity(thanks,"slideDown",{duration:300,easing:"easeInOutQuart"})}var main=document.getElementById("js__main"),mainClass=main.className,activeSubsection="",sublists={js__tid:document.getElementById("js__tid"),js__verb:document.getElementById("js__verb"),js__adjektiv:document.getElementById("js__adjektiv"),js__substantiv:document.getElementById("js__substantiv"),js__ordning:document.getElementById("js__ordning"),js__pronomen:document.getElementById("js__pronomen")},problems=["eiendomspronomen","personlige-pronomen","sporrepronomen","refleksive-pronomen","verb","imperativ","modale","adjektiv","gradering","perfektum-partisipp","sideordning","underordning","sporsmal","syntaks","substantiv","determinativ","genitiv","presens-perfektum","presens","futurum","preteritum","passiv"];init()}();